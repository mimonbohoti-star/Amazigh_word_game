<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<title>لعبة الكلمات الأمازيغية</title>

<style>
body{
  margin:0;
  font-family:sans-serif;
  background:#0e1624;
  color:#fff;
  text-align:center;
}

h1{ margin-top:20px; }

.stage-buttons{
  margin:20px;
}

.stage-buttons button{
  margin:5px;
  padding:10px 15px;
  border:none;
  border-radius:6px;
  cursor:pointer;
  font-size:16px;
}

.stage-buttons button.locked{
  background:#555;
  cursor:not-allowed;
}

.stage-buttons button.active{
  background:#1abc9c;
  color:#000;
}

.game-box{
  margin-top:30px;
}

input{
  padding:10px;
  font-size:18px;
  text-align:center;
}

button.submit{
  margin-top:10px;
  padding:10px 20px;
  font-size:16px;
  background:#3498db;
  border:none;
  border-radius:6px;
  cursor:pointer;
}

.message{
  margin-top:15px;
  font-size:18px;
}
</style>
</head>

<body>

<h1>لعبة الكلمات الأمازيغية</h1>

<div class="stage-buttons" id="stageButtons"></div>

<div class="game-box">
  <div id="question"></div>
  <input id="answerInput" placeholder="أدخل الجواب">
  <br>
  <button class="submit" onclick="checkAnswer()">تحقق</button>
  <div class="message" id="message"></div>
</div>

<script>
// ====== المراحل ======
const stages = [
  { question: "ⵣⵣⵣ (حرف أمازيغي)", answer: "ⵣ" },
  { question: "ⵎⴰⵏ (ماذا)", answer: "ⵎⴰⵏ" },
  { question: "ⴰⵣⵓⵍ (سلام)", answer: "ⴰⵣⵓⵍ" }
];

let unlockedStage = parseInt(localStorage.getItem("unlockedStage")) || 0;
let currentStage = unlockedStage;

// ====== إنشاء أزرار المراحل ======
function renderStages(){
  const container = document.getElementById("stageButtons");
  container.innerHTML = "";

  stages.forEach((_, index)=>{
    const btn = document.createElement("button");
    btn.textContent = "مرحلة " + (index + 1);

    if(index <= unlockedStage){
      btn.classList.add("active");
      btn.onclick = ()=> loadStage(index);
    }else{
      btn.classList.add("locked");
    }

    container.appendChild(btn);
  });
}

// ====== تحميل المرحلة ======
function loadStage(index){
  currentStage = index;
  document.getElementById("question").textContent =
    "السؤال: " + stages[index].question;
  document.getElementById("answerInput").value = "";
  document.getElementById("message").textContent = "";
}

// ====== التحقق ======
function checkAnswer(){
  const input = document.getElementById("answerInput").value.trim();
  const correct = stages[currentStage].answer;

  if(input === correct){
    document.getElementById("message").textContent = "✔ جواب صحيح";
    if(currentStage === unlockedStage && unlockedStage < stages.length - 1){
      unlockedStage++;
      localStorage.setItem("unlockedStage", unlockedStage);
      renderStages();
    }
  }else{
    document.getElementById("message").textContent = "✖ جواب خطأ";
  }
}

// ====== تشغيل أولي ======
renderStages();
loadStage(currentStage);
</script>

</body>
</html>
