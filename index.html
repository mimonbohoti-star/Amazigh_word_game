<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ù„Ø¹Ø¨Ø© Ø§Ù„ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ø£Ù…Ø§Ø²ÙŠØºÙŠØ©</title>

<style>
body{
  margin:0;
  font-family: sans-serif;
  background:#0e1624;
  color:#fff;
  text-align:center;
}

.hidden{display:none;}

button{
  background:#2ecc71;
  border:none;
  padding:12px 22px;
  border-radius:10px;
  font-size:18px;
  cursor:pointer;
  margin:10px;
}

#settingsBtn{
  position:fixed;
  top:10px;
  left:10px;
  font-size:22px;
  padding:8px 12px;
}

.container{
  padding:80px 20px;
}

input{
  font-size:22px;
  padding:10px;
  width:80%;
  border-radius:8px;
  border:none;
  text-align:center;
}

.letters{
  display:grid;
  grid-template-columns:repeat(6,1fr);
  gap:10px;
  margin:20px;
}

.letters button{
  background:#1f2a3a;
  color:#fff;
  font-size:20px;
}

#overlay{
  position:fixed;
  top:0;left:0;right:0;bottom:0;
  background:rgba(0,0,0,.7);
  display:flex;
  align-items:center;
  justify-content:center;
}

#settingsBox{
  background:#1f2a3a;
  padding:20px;
  border-radius:12px;
  width:80%;
  max-width:300px;
}
</style>
</head>

<body>

<!-- Ø²Ø± Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª -->
<button id="settingsBtn">âš™ï¸</button>

<!-- Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª -->
<div id="overlay" class="hidden">
  <div id="settingsBox">
    <h3>Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª</h3>
    <button id="soundToggle">ğŸ”Š Ø§Ù„ØµÙˆØª: Ù…ÙØ¹Ù‘Ù„</button><br>
    <button onclick="closeSettings()">Ø¥ØºÙ„Ø§Ù‚</button>
  </div>
</div>

<!-- Ø§Ù„Ø¨Ø¯Ø§ÙŠØ© -->
<div id="start" class="container">
  <div style="font-size:80px;">âµ£</div>
  <button onclick="showLevels()">Ø§Ø¨Ø¯Ø£</button>
</div>

<!-- Ø§Ù„Ù…Ø±Ø§Ø­Ù„ -->
<div id="levels" class="container hidden">
  <h2>Ø§Ø®ØªØ± Ø§Ù„Ù…Ø±Ø­Ù„Ø©</h2>
  <button onclick="startGame(1)">Ø§Ù„Ù…Ø±Ø­Ù„Ø© 1</button><br>
  <button onclick="startGame(2)">Ø§Ù„Ù…Ø±Ø­Ù„Ø© 2</button><br>
  <button onclick="startGame(3)">Ø§Ù„Ù…Ø±Ø­Ù„Ø© 3</button>
</div>

<!-- Ø§Ù„Ù„Ø¹Ø¨Ø© -->
<div id="game" class="container hidden">
  <h2 id="levelTitle"></h2>
  <div id="question" style="font-size:28px;margin:10px;"></div>
  <input id="answer" readonly>
  <div class="letters" id="letters"></div>
  <button onclick="checkAnswer()">ØªØ­Ù‚Ù‚</button><br>
  <button onclick="backToLevels()">Ø§Ù„Ø±Ø¬ÙˆØ¹ Ù„Ù„Ù‚Ø§Ø¦Ù…Ø©</button>
</div>

<audio id="clickSound">
  <source src="https://actions.google.com/sounds/v1/cartoon/wood_plank_flicks.ogg">
</audio>

<script>
let soundOn = true;

const levels = {
  1:[{q:"SUN",a:"âµœâµ‰âµâµ‰"}],
  2:[{q:"MOON",a:"â´°âµ¢âµ“âµ”"}],
  3:[{q:"STAR",a:"âµ‰âµœâµ”âµ‰"}]
};

const tifinagh = ["â´°","â´±","âµ›","â´·","â´»","â´¼","â´³","âµ€","âµ‰","âµŠ","â´½","âµ","âµ","âµ","âµ“","âµ”","âµ™","âµœ","âµ¡","âµ¢","âµ£","âµ‰","âµ”"];

let currentAnswer = "";

function playSound(){
  if(soundOn){
    document.getElementById("clickSound").play();
  }
}

function showLevels(){
  start.classList.add("hidden");
  levelsDiv.classList.remove("hidden");
}

function startGame(lv){
  levelsDiv.classList.add("hidden");
  game.classList.remove("hidden");
  levelTitle.innerText = "Ø§Ù„Ù…Ø±Ø­Ù„Ø© " + lv;
  question.innerText = levels[lv][0].q;
  currentAnswer = levels[lv][0].a;
  answer.value = "";
  buildLetters();
}

function buildLetters(){
  letters.innerHTML="";
  tifinagh.forEach(l=>{
    const b=document.createElement("button");
    b.textContent=l;
    b.onclick=()=>{
      answer.value+=l;
      playSound();
    };
    letters.appendChild(b);
  });
}

function checkAnswer(){
  if(answer.value===currentAnswer){
    alert("âœ”ï¸ ØµØ­ÙŠØ­");
  }else{
    alert("âŒ Ø®Ø·Ø£");
  }
}

function backToLevels(){
  game.classList.add("hidden");
  levelsDiv.classList.remove("hidden");
}

settingsBtn.onclick=()=>{
  overlay.classList.remove("hidden");
};

function closeSettings(){
  overlay.classList.add("hidden");
}

soundToggle.onclick=()=>{
  soundOn=!soundOn;
  soundToggle.innerText = soundOn ? "ğŸ”Š Ø§Ù„ØµÙˆØª: Ù…ÙØ¹Ù‘Ù„" : "ğŸ”‡ Ø§Ù„ØµÙˆØª: Ù…ØªÙˆÙ‚Ù";
};
</script>

</body>
</html>
