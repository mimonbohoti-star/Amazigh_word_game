<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<title>Ù„Ø¹Ø¨Ø© Ø§Ù„Ø£Ø³Ø¦Ù„Ø©</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
*{box-sizing:border-box;font-family:Arial}
body{
  margin:0;
  background:linear-gradient(180deg,#020617,#022c22);
  color:#fff;
  text-align:center;
}

.top{
  display:flex;
  justify-content:space-between;
  padding:12px 18px;
  font-size:18px;
  border-bottom:1px solid #134e4a;
}

.container{margin-top:25px}

h2{margin-bottom:20px;color:#d1fae5}

button{
  width:90%;
  max-width:420px;
  padding:16px;
  margin:12px auto;
  font-size:18px;
  border:none;
  border-radius:16px;
  cursor:pointer;
}

.stage{
  background:linear-gradient(135deg,#22c55e,#16a34a);
  color:#022c22;
  font-weight:bold;
}

.locked{
  background:#334155;
  color:#94a3b8;
  cursor:not-allowed;
}

.reset{
  background:#f1f5f9;
  color:#020617;
}

#game{display:none}

.answers button{
  background:#020617;
  color:#e5e7eb;
  border:1px solid #134e4a;
}
</style>
</head>

<body>

<div class="top">
  <div>â­ <span id="stars">0</span></div>
  <div>â± <span id="time">10</span></div>
  <div>â¤ï¸ <span id="lives">3</span></div>
</div>

<div class="container" id="menu">
  <h2>ğŸ® Ù„Ø¹Ø¨Ø© Ø§Ù„Ø£Ø³Ø¦Ù„Ø©</h2>
  <button class="stage" onclick="startStage(1)">Ø§Ù„Ù…Ø±Ø­Ù„Ø© 1</button>
  <button class="stage" onclick="startStage(2)">Ø§Ù„Ù…Ø±Ø­Ù„Ø© 2</button>
  <button class="locked" id="stage3">ğŸ”’ Ø§Ù„Ù…Ø±Ø­Ù„Ø© 3</button>
  <button class="reset" onclick="resetGame()">Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªØµÙÙŠØ±</button>
</div>

<div id="game">
  <h3 id="question"></h3>
  <div class="answers" id="answers"></div>
</div>

<script>
let stars=0,lives=3,time=10,timer,current;
let unlocked3=false;

const data={
1:{q:"Ø¹Ø§ØµÙ…Ø© Ø§Ù„Ù…ØºØ±Ø¨ØŸ",a:["ÙØ§Ø³","Ø§Ù„Ø±Ø¨Ø§Ø·","Ø·Ù†Ø¬Ø©"],c:1},
2:{q:"5 Ã— 2 = ØŸ",a:["10","12","8"],c:0},
3:{q:"HTML ØªØ¹Ù†ÙŠØŸ",a:["Ù„ØºØ© Ø¨Ø±Ù…Ø¬Ø©","Ù„ØºØ© ØªØ±Ù…ÙŠØ²","Ù†Ø¸Ø§Ù…"],c:1}
};

function startStage(n){
  if(n===3 && !unlocked3) return;
  current=n;
  menu.style.display="none";
  game.style.display="block";
  loadQ();
  startTimer();
}

function loadQ(){
  question.textContent=data[current].q;
  answers.innerHTML="";
  data[current].a.forEach((x,i)=>{
    let b=document.createElement("button");
    b.textContent=x;
    b.onclick=()=>check(i);
    answers.appendChild(b);
  });
}

function check(i){
  clearInterval(timer);
  if(i===data[current].c){
    stars+=5;
    if(current===2){
      unlocked3=true;
      stage3.className="stage";
      stage3.textContent="Ø§Ù„Ù…Ø±Ø­Ù„Ø© 3";
      stage3.onclick=()=>startStage(3);
    }
    back();
  }else loseLife();
}

function startTimer(){
  time=10;
  update();
  timer=setInterval(()=>{
    time--;
    update();
    if(time===0){clearInterval(timer);loseLife();}
  },1000);
}

function loseLife(){
  lives--;
  update();
  if(lives<=0) resetGame();
  else back();
}

function update(){
  timeSpan.textContent=time;
  starsSpan.textContent=stars;
  livesSpan.textContent=lives;
}

function back(){
  game.style.display="none";
  menu.style.display="block";
}

function resetGame(){location.reload();}

const timeSpan=document.getElementById("time");
const starsSpan=document.getElementById("stars");
const livesSpan=document.getElementById("lives");
</script>

</body>
</html>
