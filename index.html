<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<title>Ù„Ø¹Ø¨Ø© Ø§Ù„Ø£Ø³Ø¦Ù„Ø©</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
*{box-sizing:border-box;font-family:Arial}
body{
  margin:0;
  background:#000;
  color:#fff;
  text-align:center;
}
.top{
  display:flex;
  justify-content:space-between;
  padding:10px 15px;
  font-size:18px;
}
.container{margin-top:30px}
button{
  width:90%;
  max-width:400px;
  padding:15px;
  margin:10px auto;
  font-size:18px;
  border:none;
  border-radius:12px;
  cursor:pointer;
}
.stage{background:#f2f2f2;color:#000}
.locked{background:#444;color:#aaa;cursor:not-allowed}
.reset{background:#fff}
#game{display:none}
.answers button{background:#22c55e;color:#fff}
</style>
</head>

<body>

<div class="top">
  <div>â­ <span id="stars">0</span></div>
  <div>â± <span id="time">10</span></div>
  <div>â¤ï¸ <span id="lives">3</span></div>
</div>

<div class="container" id="menu">
  <h2>ğŸ® Ù„Ø¹Ø¨Ø© Ø§Ù„Ø£Ø³Ø¦Ù„Ø©</h2>
  <button class="stage" onclick="startStage(1)">Ø§Ù„Ù…Ø±Ø­Ù„Ø© 1</button>
  <button class="stage" onclick="startStage(2)">Ø§Ù„Ù…Ø±Ø­Ù„Ø© 2</button>
  <button class="locked" id="stage3">ğŸ”’ Ø§Ù„Ù…Ø±Ø­Ù„Ø© 3</button>
  <button class="reset" onclick="resetGame()">Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªØµÙÙŠØ±</button>
</div>

<div id="game">
  <h3 id="question"></h3>
  <div class="answers" id="answers"></div>
</div>

<script>
let stars=0,lives=3,time=10,timer;
let unlocked3=false;

const data={
1:{q:"Ø¹Ø§ØµÙ…Ø© Ø§Ù„Ù…ØºØ±Ø¨ØŸ",a:["ÙØ§Ø³","Ø§Ù„Ø±Ø¨Ø§Ø·","Ø·Ù†Ø¬Ø©"],c:1},
2:{q:"5 Ã— 2 = ØŸ",a:["10","12","8"],c:0},
3:{q:"HTML ØªØ¹Ù†ÙŠØŸ",a:["Ù„ØºØ© Ø¨Ø±Ù…Ø¬Ø©","Ù„ØºØ© ØªØ±Ù…ÙŠØ²","Ù†Ø¸Ø§Ù…"],c:1}
};

function startStage(n){
  if(n===3 && !unlocked3) return;
  current=n;
  showGame();
  loadQ(n);
  startTimer();
}

function showGame(){
  menu.style.display="none";
  game.style.display="block";
}

function loadQ(n){
  question.textContent=data[n].q;
  answers.innerHTML="";
  data[n].a.forEach((x,i)=>{
    let b=document.createElement("button");
    b.textContent=x;
    b.onclick=()=>check(i);
    answers.appendChild(b);
  });
}

function check(i){
  clearInterval(timer);
  if(i===data[current].c){
    stars+=5;
    if(current===2){
      unlocked3=true;
      stage3.className="stage";
      stage3.onclick=()=>startStage(3);
      stage3.textContent="Ø§Ù„Ù…Ø±Ø­Ù„Ø© 3";
    }
    alert("âœ”ï¸ ØµØ­ÙŠØ­");
  }else{
    loseLife();
    return;
  }
  back();
}

function startTimer(){
  time=10;
  timeSpan();
  timer=setInterval(()=>{
    time--;
    timeSpan();
    if(time===0){
      clearInterval(timer);
      loseLife();
    }
  },1000);
}

function loseLife(){
  lives--;
  document.getElementById("lives").textContent=lives;
  alert("âŒ Ø®Ø·Ø£");
  if(lives<=0){
    alert("Ø§Ù†ØªÙ‡Øª Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø§Øª");
    resetGame();
  }else back();
}

function timeSpan(){
  document.getElementById("time").textContent=time;
  document.getElementById("stars").textContent=stars;
}

function back(){
  game.style.display="none";
  menu.style.display="block";
}

function resetGame(){
  location.reload();
}
</script>

</body>
</html>
