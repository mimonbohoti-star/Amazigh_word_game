<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<title>Ù„Ø¹Ø¨Ø© Ø§Ù„Ø£Ø³Ø¦Ù„Ø©</title>

<style>
body{
  margin:0;
  font-family:Arial, sans-serif;
  background:#000;
  color:#fff;
  text-align:center;
}

.top-bar{
  display:flex;
  justify-content:space-between;
  padding:10px 15px;
  font-size:18px;
}

h1{margin:15px 0;}

.card{
  width:90%;
  margin:12px auto;
  padding:16px;
  font-size:20px;
  border-radius:14px;
  border:none;
}

.stage{background:#eee;color:#000;cursor:pointer;}
.locked{background:#555;color:#aaa;}
.answer{background:#222;color:#fff;cursor:pointer;}
.correct{background:#22c55e;}
.wrong{background:#ef4444;}

#menu,#game{display:none;}
</style>
</head>

<body>

<div class="top-bar">
  <div>â­ <span id="stars">0</span></div>
  <div>â± <span id="time">10</span> Ø«</div>
  <div>â¤ï¸ <span id="lives">3</span></div>
</div>

<h1>ğŸ® Ù„Ø¹Ø¨Ø© Ø§Ù„Ø£Ø³Ø¦Ù„Ø©</h1>

<div id="menu">
  <button class="card stage" onclick="startStage(1)">Ø§Ù„Ù…Ø±Ø­Ù„Ø© 1</button>
  <button class="card stage" onclick="startStage(2)">Ø§Ù„Ù…Ø±Ø­Ù„Ø© 2</button>
  <button class="card locked">ğŸ”’ Ø§Ù„Ù…Ø±Ø­Ù„Ø© 3</button>
  <button class="card stage" onclick="resetGame()">Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªØµÙÙŠØ±</button>
</div>

<div id="game">
  <h2 id="question"></h2>
  <div id="answers"></div>
</div>

<script>
let questions={
  1:[
    {q:"2 + 2 = ØŸ",a:["3","4","5"],c:1},
    {q:"Ù„ÙˆÙ† Ø§Ù„Ø³Ù…Ø§Ø¡ØŸ",a:["Ø£Ø®Ø¶Ø±","Ø£Ø²Ø±Ù‚","Ø£Ø­Ù…Ø±"],c:1}
  ],
  2:[
    {q:"Ø¹Ø§ØµÙ…Ø© Ø§Ù„Ù…ØºØ±Ø¨ØŸ",a:["ÙØ§Ø³","Ø§Ù„Ø±Ø¨Ø§Ø·","Ø·Ù†Ø¬Ø©"],c:1},
    {q:"Ø¹Ø¯Ø¯ Ø£ÙŠØ§Ù… Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ØŸ",a:["5","6","7"],c:2}
  ]
};

let stage=1,index=0;
let timer;
let time=10;
let lives=3;
let stars=0;

const timeEl=document.getElementById("time");
const livesEl=document.getElementById("lives");
const starsEl=document.getElementById("stars");

function showMenu(){
  menu.style.display="block";
  game.style.display="none";
}

function startStage(s){
  stage=s; index=0;
  menu.style.display="none";
  game.style.display="block";
  loadQuestion();
}

function startTimer(){
  clearInterval(timer);
  time=10;
  timeEl.textContent=time;

  timer=setInterval(()=>{
    time--;
    timeEl.textContent=time;
    if(time===0){
      clearInterval(timer);
      loseLife();
    }
  },1000);
}

function loadQuestion(){
  startTimer();
  let q=questions[stage][index];
  question.textContent=q.q;
  answers.innerHTML="";
  q.a.forEach((txt,i)=>{
    let b=document.createElement("button");
    b.className="card answer";
    b.textContent=txt;
    b.onclick=()=>check(i,b);
    answers.appendChild(b);
  });
}

function check(i,btn){
  clearInterval(timer);
  let correct=questions[stage][index].c;
  if(i===correct){
    btn.classList.add("correct");
    stars++; starsEl.textContent=stars;
    setTimeout(nextQuestion,600);
  }else{
    btn.classList.add("wrong");
    loseLife();
  }
}

function nextQuestion(){
  index++;
  if(index<questions[stage].length){
    loadQuestion();
  }else{
    alert("âœ… Ø§Ù„Ù…Ø±Ø­Ù„Ø© Ù…ÙƒØªÙ…Ù„Ø©");
    showMenu();
  }
}

function loseLife(){
  lives--;
  livesEl.textContent=lives;
  if(lives===0){
    alert("âŒ Ø®Ø³Ø±Øª Ø§Ù„Ù„Ø¹Ø¨Ø©");
    resetGame();
  }else{
    loadQuestion();
  }
}

function resetGame(){
  clearInterval(timer);
  lives=3; stars=0;
  livesEl.textContent=lives;
  starsEl.textContent=stars;
  showMenu();
}

showMenu();
</script>

</body>
</html>
