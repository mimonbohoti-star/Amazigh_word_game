<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<title>Ù„Ø¹Ø¨Ø© Ø§Ù„ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ø£Ù…Ø§Ø²ÙŠØºÙŠØ©</title>

<style>
body{
  margin:0;
  font-family: sans-serif;
  background: linear-gradient(180deg,#0f3d3a,#1f6f67);
  color:#fff;
  text-align:center;
}

.container{
  max-width:500px;
  margin:auto;
  padding:20px;
}

.hidden{display:none;}

button{
  border:none;
  padding:12px 20px;
  border-radius:25px;
  font-size:16px;
  cursor:pointer;
}

.start-btn{background:#4cafef;color:#000;}
.next-btn{background:#7ed957;}
.delete-btn{background:#e57373;}

.answer{
  display:flex;
  justify-content:center;
  gap:10px;
  margin:20px 0;
}

.box{
  width:55px;
  height:55px;
  background:#1c2f33;
  border-radius:12px;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:28px;
  box-shadow: inset 0 -4px #6cff75;
}

.letters{
  display:grid;
  grid-template-columns:repeat(5,1fr);
  gap:10px;
  margin-top:20px;
}

.letter{
  background:#243c40;
  padding:15px;
  border-radius:12px;
  font-size:24px;
  cursor:pointer;
}

.top-info{
  margin-bottom:15px;
  line-height:1.8;
}
</style>
</head>

<body>

<div class="container">

<!-- Ø´Ø§Ø´Ø© Ø§Ù„Ø¨Ø¯Ø§ÙŠØ© -->
<div id="startScreen">
  <h2>â´°âµ£âµ£âµ“âµ</h2>
  <p>Ù„Ø¹Ø¨Ø© Ø§Ù„ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ø£Ù…Ø§Ø²ÙŠØºÙŠØ©</p>
  <button class="start-btn" onclick="startGame()">Ø§Ø¨Ø¯Ø£ Ø§Ù„Ù„Ø¹Ø¨</button>
</div>

<!-- Ø§Ù„Ù„Ø¹Ø¨Ø© -->
<div id="gameScreen" class="hidden">

  <div class="top-info">
    <div>Ø§Ù„Ù…Ø±Ø­Ù„Ø©: <span id="stageNum"></span></div>
    <div>Ø§Ù„Ø³Ø¤Ø§Ù„: <span id="questionNum"></span> / 3</div>
    <div>Ø§Ù„Ù†Ù‚Ø§Ø·: <span id="score"></span></div>
  </div>

  <h3 id="questionText"></h3>

  <div class="answer" id="answerBoxes"></div>

  <div class="letters" id="lettersBox"></div>

  <div style="margin-top:20px;">
    <button class="next-btn" onclick="nextQuestion()">Ø³Ø¤Ø§Ù„ Ø¢Ø®Ø±</button>
    <button class="delete-btn" onclick="deleteLetter()">Ù…Ø³Ø­ Ø­Ø±Ù</button>
  </div>

</div>

</div>

<script>
const stages = [
  [
    {q:"Ø­ÙŠÙˆØ§Ù† Ø£Ù„ÙŠÙ", a:"â´°âµ¢â´·âµ‰"},
    {q:"Ø§Ù„Ù†Ø§Ø± Ø¨Ø§Ù„Ø£Ù…Ø§Ø²ÙŠØºÙŠØ©", a:"âµœâµ‰âµ™âµ™"},
    {q:"Ø§Ù„Ø³Ù…Ø§Ø¡", a:"â´°âµ™âµâ´°"}
  ],
  [
    {q:"Ø§Ù„Ø­Ø±ÙŠØ© Ø¨Ø§Ù„Ø£Ù…Ø§Ø²ÙŠØºÙŠØ©", a:"âµœâ´°âµ™âµâ´°"},
    {q:"Ø±Ù…Ø² Ø§Ù„Ø£Ù…Ø§Ø²ÙŠØº", a:"âµ£"},
    {q:"Ø§Ù„Ø£Ø±Ø¶", a:"â´°â´³â´³â´°"}
  ],
  [
    {q:"Ø§Ù„Ù…Ø§Ø¡", a:"â´°âµâ´°âµ"},
    {q:"Ø§Ù„Ø´Ù…Ø³", a:"âµœâ´°â´¼âµ“âµ¢âµœ"},
    {q:"Ø§Ù„Ù‚Ù…Ø±", a:"â´°âµ¢âµ¢âµ“âµ”"}
  ]
];

let stage=0, qIndex=0, score=0;
let currentAnswer="", userAnswer="";

function startGame(){
  document.getElementById("startScreen").classList.add("hidden");
  document.getElementById("gameScreen").classList.remove("hidden");
  loadQuestion();
}

function loadQuestion(){
  const data = stages[stage][qIndex];
  currentAnswer = data.a;
  userAnswer = "";

  document.getElementById("stageNum").innerText = stage+1;
  document.getElementById("questionNum").innerText = qIndex+1;
  document.getElementById("score").innerText = score;
  document.getElementById("questionText").innerText = data.q;

  const answerBoxes = document.getElementById("answerBoxes");
  answerBoxes.innerHTML="";
  for(let i=0;i<currentAnswer.length;i++){
    const d=document.createElement("div");
    d.className="box";
    d.innerText="";
    answerBoxes.appendChild(d);
  }

  generateLetters();
}

function generateLetters(){
  const box=document.getElementById("lettersBox");
  box.innerHTML="";
  let letters=currentAnswer.split("");

  const extra="â´°âµ‰âµâµ”âµ™âµâ´³âµâµ¢â´·âµœâ´¼âµ£".split("");
  while(letters.length<10){
    letters.push(extra[Math.floor(Math.random()*extra.length)]);
  }

  letters.sort(()=>Math.random()-0.5);

  letters.forEach(l=>{
    const b=document.createElement("div");
    b.className="letter";
    b.innerText=l;
    b.onclick=()=>addLetter(l);
    box.appendChild(b);
  });
}

function addLetter(l){
  if(userAnswer.length>=currentAnswer.length) return;
  userAnswer+=l;
  updateBoxes();
}

function deleteLetter(){
  userAnswer=userAnswer.slice(0,-1);
  updateBoxes();
}

function updateBoxes(){
  const boxes=document.querySelectorAll(".box");
  boxes.forEach((b,i)=>b.innerText=userAnswer[i]||"");
}

function nextQuestion(){
  if(userAnswer!==currentAnswer) return;

  score+=100;
  qIndex++;

  if(qIndex===3){
    stage++;
    qIndex=0;
    if(stage===stages.length){
      alert("ğŸ‰ Ù…Ø¨Ø±ÙˆÙƒ! ÙˆØµÙ„Øª Ù„Ù„Ù†Ù‡Ø§ÙŠØ©\nØ§Ù„Ù†Ù‚Ø§Ø·: "+score);
      location.reload();
      return;
    }
  }
  loadQuestion();
}
</script>

</body>
</html>
