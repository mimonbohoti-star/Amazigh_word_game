<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<title>لعبة الكلمات</title>
<style>
body{
  margin:0;
  font-family: sans-serif;
  background:#111;
  color:#fff;
  display:flex;
  justify-content:center;
  align-items:center;
  height:100vh;
}
.game{
  width:320px;
  background:#1c1c1c;
  padding:15px;
  border-radius:12px;
}
.question{
  text-align:center;
  margin-bottom:10px;
  font-size:18px;
}
.answer-box{
  display:flex;
  justify-content:center;
  gap:6px;
  margin:10px 0;
}
.answer-box div{
  width:36px;
  height:36px;
  border-bottom:2px solid #0f0;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:20px;
}
.letters{
  display:flex;
  flex-wrap:wrap;
  gap:8px;
  justify-content:center;
  margin-top:10px;
}
.letters button{
  width:40px;
  height:40px;
  border:none;
  border-radius:8px;
  background:#333;
  color:#fff;
  font-size:18px;
}
.letters button:disabled{
  opacity:.4;
}
.controls{
  text-align:center;
  margin-top:10px;
}
.controls button{
  padding:6px 12px;
  border:none;
  border-radius:6px;
  background:#a00;
  color:#fff;
}
.success{
  color:#0f0;
  text-align:center;
  margin-top:8px;
}
</style>
</head>
<body>

<div class="game">
  <div class="question">حيوان أليف</div>

  <div class="answer-box" id="answerBox"></div>

  <div class="letters" id="letters"></div>

  <div class="controls">
    <button onclick="removeLetter()">مسح حرف</button>
  </div>

  <div class="success" id="success"></div>
</div>

<script>
const question = {
  q:"حيوان أليف",
  answer:"ⴰⵣⴰⵔ"
};

// حروف زايدة (نفس العائلة)
const extraLetters = ["ⴱ","ⴳ","ⴷ","ⵎ"];

let answerArr = question.answer.split("");
let userAnswer = [];

const answerBox = document.getElementById("answerBox");
const lettersBox = document.getElementById("letters");
const successBox = document.getElementById("success");

// إنشاء خانات الجواب
answerArr.forEach(()=> {
  const d = document.createElement("div");
  answerBox.appendChild(d);
});

// توليد الحروف (الجواب + الزايد)
let letters = [...answerArr, ...extraLetters];
letters.sort(()=>Math.random()-0.5);

letters.forEach(l=>{
  const b = document.createElement("button");
  b.textContent = l;
  b.onclick = ()=>{
    if(userAnswer.length < answerArr.length){
      userAnswer.push(l);
      b.disabled = true;
      updateAnswer();
    }
  };
  lettersBox.appendChild(b);
});

function updateAnswer(){
  [...answerBox.children].forEach((d,i)=>{
    d.textContent = userAnswer[i] || "";
  });

  if(userAnswer.length === answerArr.length){
    if(userAnswer.join("") === question.answer){
      successBox.textContent = "✔ جواب صحيح";
    }else{
      successBox.textContent = "✖ خطأ";
    }
  }
}

function removeLetter(){
  if(userAnswer.length===0) return;
  const last = userAnswer.pop();

  [...lettersBox.children].forEach(b=>{
    if(b.textContent===last && b.disabled){
      b.disabled = false;
      return;
    }
  });

  successBox.textContent="";
  updateAnswer();
}
</script>

</body>
</html>
