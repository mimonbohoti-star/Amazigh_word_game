<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ù„Ø¹Ø¨Ø© Ø§Ù„ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ø£Ù…Ø§Ø²ÙŠØºÙŠØ©</title>

<style>
body{
  margin:0;
  font-family:sans-serif;
  background:linear-gradient(180deg,#0e1624,#12263a);
  color:#fff;
  text-align:center;
}
h1{margin:10px 0}

.game{
  max-width:420px;
  margin:auto;
  padding:15px;
}

img{
  width:100%;
  max-height:220px;
  object-fit:cover;
  border-radius:18px;
  box-shadow:0 10px 25px rgba(0,0,0,.5);
}

input{
  width:100%;
  font-size:22px;
  padding:12px;
  margin:15px 0;
  text-align:left;
  direction:ltr;
  border-radius:10px;
  border:none;
}

button{
  padding:14px 30px;
  font-size:18px;
  border:none;
  border-radius:12px;
  cursor:pointer;
  background:#1abc9c;
  color:#fff;
}

#message{
  min-height:30px;
  margin-top:10px;
  font-size:18px;
}
.success{color:#00ff99}
.error{color:#ff5555}

/* celebration */
#celebration{
  position:fixed;
  inset:0;
  pointer-events:none;
  display:none;
}
.star{
  position:absolute;
  top:-30px;
  font-size:26px;
  animation:fall 2.5s linear forwards;
}
@keyframes fall{
  to{transform:translateY(120vh) rotate(360deg);opacity:0}
}
</style>
</head>

<body>

<div class="game">
  <h1 id="title">âµœâ´°â´¼âµ“âµ¢âµœ</h1>
  <img id="image" src="">
  <input id="answer" readonly>
  <button onclick="check()">ØªØ­Ù‚Ù‚</button>
  <div id="message"></div>
</div>

<div id="celebration"></div>

<script>
const stages = [
 {word:"âµœâ´°â´¼âµ“âµ¢âµœ", image:"sun.jpg"},
 {word:"â´°âµ¢âµ¢âµ“âµ”", image:"moon.jpg"},
 {word:"âµ‰âµœâµ”âµ‰", image:"flower.jpg"},
 {word:"â´°â´·âµ”â´°âµ”", image:"mountain.jpg"},
 {word:"â´°âµ™âµ‰â´¼", image:"river.jpg"}
];

let stage = 0;
const img = document.getElementById("image");
const ans = document.getElementById("answer");
const msg = document.getElementById("message");
const title = document.getElementById("title");

loadStage();

function loadStage(){
  const s = stages[stage];
  title.textContent = s.word;
  img.src = s.image;
  ans.value = "";
  msg.textContent = "";
}

document.addEventListener("keydown",e=>{
  if(e.key==="Backspace") ans.value=ans.value.slice(0,-1);
  else if(e.key.length===1) ans.value+=e.key;
});

function check(){
  if(ans.value === stages[stage].word){
    success();
    stage++;
    if(stage < stages.length){
      setTimeout(loadStage,1200);
    }else{
      msg.textContent="ðŸŽ‰ Ø£Ø­Ø³Ù†Øª! Ø§Ù†ØªÙ‡Øª Ø§Ù„Ù„Ø¹Ø¨Ø©";
      msg.className="success";
    }
  }else{
    msg.textContent="âŒ Ø­Ø§ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰";
    msg.className="error";
    ans.value="";
  }
}

function success(){
  msg.textContent="âœ”ï¸ ØµØ­ÙŠØ­";
  msg.className="success";
  playSound();
  celebrate();
}

function playSound(){
  const ctx = new (AudioContext||webkitAudioContext)();
  const o = ctx.createOscillator();
  const g = ctx.createGain();
  o.frequency.value=900;
  g.gain.value=0.15;
  o.connect(g).connect(ctx.destination);
  o.start();
  o.stop(ctx.currentTime+0.25);
}

function celebrate(){
  const c = document.getElementById("celebration");
  c.innerHTML="";
  c.style.display="block";
  for(let i=0;i<25;i++){
    const s=document.createElement("div");
    s.className="star";
    s.textContent=["â­","âœ¨","âµ£"][Math.floor(Math.random()*3)];
    s.style.left=Math.random()*100+"%";
    c.appendChild(s);
  }
  setTimeout(()=>c.style.display="none",2000);
}
</script>

</body>
</html>
