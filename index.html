<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<title>Ù„Ø¹Ø¨Ø© Ø§Ù„ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ø£Ù…Ø§Ø²ÙŠØºÙŠØ©</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
*{box-sizing:border-box}
body{
  margin:0; font-family:sans-serif;
  background:linear-gradient(#0f3d3d,#1f6f6f);
  color:#fff; text-align:center;
}
.hidden{display:none}
button{
  border:none; padding:12px 20px; border-radius:20px;
  font-size:16px; cursor:pointer;
}
.start-btn{background:#4dd0e1;color:#000}
.next-btn{background:#81c784}
.next-btn:disabled{opacity:.4;cursor:not-allowed}
.delete-btn{background:#e57373}
.top{margin-top:80px}
.level{opacity:.85;margin-bottom:6px}
.letters,.slots{
  display:flex; justify-content:center; flex-wrap:wrap;
  gap:10px; margin:15px;
}
.letter,.slot{
  width:55px;height:55px;background:#263238;
  border-radius:10px;font-size:28px;
  display:flex;align-items:center;justify-content:center;
}
.slot.filled{border-bottom:4px solid #6cff6c}
.msg{margin-top:8px;min-height:22px}
</style>
</head>

<body>

<!-- Ø§Ù„Ø¨Ø¯Ø§ÙŠØ© -->
<div id="startScreen" class="top">
  <h1>âµ£ Ù„Ø¹Ø¨Ø© Ø§Ù„ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ø£Ù…Ø§Ø²ÙŠØºÙŠØ© âµ£</h1>
  <button class="start-btn" onclick="startGame()">Ø§Ø¨Ø¯Ø£</button>
</div>

<!-- Ø§Ù„Ù„Ø¹Ø¨Ø© -->
<div id="gameScreen" class="hidden">
  <div class="level" id="levelText"></div>
  <h2 id="question"></h2>

  <div class="slots" id="slots"></div>
  <div class="letters" id="letters"></div>

  <button class="delete-btn" onclick="removeLetter()">Ù…Ø³Ø­ Ø­Ø±Ù</button>
  <br><br>
  <button id="nextBtn" class="next-btn" onclick="nextQuestion()" disabled>Ø§Ù„ØªØ§Ù„ÙŠ</button>

  <div class="msg" id="msg"></div>
</div>

<script>
/* =============================
   Ø§Ù„Ù…Ø±Ø§Ø­Ù„ + ØªÙ†ÙˆÙŠØ¹ Ø§Ù„Ø£Ø³Ø¦Ù„Ø©
============================= */
const levels = [
  {
    name:"Ø§Ù„Ù…Ø±Ø­Ù„Ø© 1 (Ù„ØºÙˆÙŠ)",
    questions:[
      {q:"Ø­ÙŠÙˆØ§Ù† Ø£Ù„ÙŠÙ", a:"â´°âµ¢â´·âµ‰"},
      {q:"Ø§Ù„Ù…Ø§Ø¡", a:"â´°âµâ´°âµ"}
    ]
  },
  {
    name:"Ø§Ù„Ù…Ø±Ø­Ù„Ø© 2 (Ø«Ù‚Ø§ÙÙŠ)",
    questions:[
      {q:"Ø±Ù…Ø² Ø§Ù„Ø­Ø±ÙŠØ© Ø§Ù„Ø£Ù…Ø§Ø²ÙŠØºÙŠØ©", a:"âµ£"},
      {q:"Ø§Ù„Ø¨ÙŠØª Ø¨Ø§Ù„Ø£Ù…Ø§Ø²ÙŠØºÙŠØ©", a:"â´°âµ…âµ…â´°âµ"}
    ]
  },
  {
    name:"Ø§Ù„Ù…Ø±Ø­Ù„Ø© 3 (ØªØ§Ø±ÙŠØ®ÙŠ)",
    questions:[
      {q:"Ù…Ù„Ùƒ Ø£Ù…Ø§Ø²ÙŠØºÙŠ Ù‚Ø§ÙˆÙ… Ø§Ù„Ø±ÙˆÙ…Ø§Ù†", a:"âµ¢âµ“â´³âµ“âµ”âµœâ´°"},
      {q:"Ø§Ø³Ù… Ø´Ù…Ø§Ù„ Ø¥ÙØ±ÙŠÙ‚ÙŠØ§ Ù‚Ø¯ÙŠÙ…Ù‹Ø§", a:"âµœâ´°âµâ´°âµ£âµ–â´°"}
    ]
  }
];

let levelIndex=0, questionIndex=0;
let currentAnswer=[], filled=[];
const extraLetters=["â´°","âµ“","âµ‰","â´³","âµ£","â´·","â´¼","â´½","âµ”","âµ™"];

const levelText=document.getElementById("levelText");
const questionEl=document.getElementById("question");
const slotsEl=document.getElementById("slots");
const lettersEl=document.getElementById("letters");
const msgEl=document.getElementById("msg");
const nextBtn=document.getElementById("nextBtn");

/* =============================
   Ø¨Ø¯Ø¡ Ø§Ù„Ù„Ø¹Ø¨Ø©
============================= */
function startGame(){
  document.getElementById("startScreen").classList.add("hidden");
  document.getElementById("gameScreen").classList.remove("hidden");
  loadQuestion();
}

/* =============================
   ØªØ­Ù…ÙŠÙ„ Ø³Ø¤Ø§Ù„
============================= */
function loadQuestion(){
  msgEl.textContent="";
  nextBtn.disabled=true;

  const lvl=levels[levelIndex];
  const qObj=lvl.questions[questionIndex];

  levelText.textContent=lvl.name;
  questionEl.textContent=qObj.q;

  currentAnswer=qObj.a.split("");
  filled=[];

  renderSlots();
  renderLetters();
}

/* =============================
   Ø§Ù„ÙˆØ§Ø¬Ù‡Ø§Øª
============================= */
function renderSlots(){
  slotsEl.innerHTML="";
  currentAnswer.forEach((_,i)=>{
    const d=document.createElement("div");
    d.className="slot";
    d.textContent=filled[i]||"";
    if(filled[i]) d.classList.add("filled");
    slotsEl.appendChild(d);
  });
}

function renderLetters(){
  lettersEl.innerHTML="";
  let letters=[...currentAnswer];
  while(letters.length<currentAnswer.length+4){
    letters.push(extraLetters[Math.floor(Math.random()*extraLetters.length)]);
  }
  letters.sort(()=>Math.random()-0.5);

  letters.forEach(l=>{
    const b=document.createElement("div");
    b.className="letter";
    b.textContent=l;
    b.onclick=()=>addLetter(l);
    lettersEl.appendChild(b);
  });
}

/* =============================
   Ø¥Ø¯Ø®Ø§Ù„/Ù…Ø³Ø­
============================= */
function addLetter(l){
  if(filled.length<currentAnswer.length){
    filled.push(l);
    renderSlots();
    checkAnswer();
  }
}
function removeLetter(){
  if(!filled.length) return;
  filled.pop();
  msgEl.textContent="";
  nextBtn.disabled=true;
  renderSlots();
}

/* =============================
   Ø§Ù„ØªØ­Ù‚Ù‚ + ÙØªØ­ Ø§Ù„ØªØ§Ù„ÙŠ
============================= */
function checkAnswer(){
  if(filled.length===currentAnswer.length){
    if(filled.join("")===currentAnswer.join("")){
      msgEl.textContent="âœ” Ø¬ÙˆØ§Ø¨ ØµØ­ÙŠØ­";
      nextBtn.disabled=false; // ğŸ”“ ÙØªØ­ Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„
    }else{
      msgEl.textContent="âœ– ØºÙŠØ± ØµØ­ÙŠØ­";
      nextBtn.disabled=true;
    }
  }
}

/* =============================
   Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ (Ù…Ù‚ÙÙ„ Ø­ØªÙ‰ Ø§Ù„Ù†Ø¬Ø§Ø­)
============================= */
function nextQuestion(){
  if(nextBtn.disabled) return; // Ø£Ù…Ø§Ù† Ø¥Ø¶Ø§ÙÙŠ

  questionIndex++;
  if(questionIndex>=levels[levelIndex].questions.length){
    levelIndex++;
    questionIndex=0;
    if(levelIndex>=levels.length){
      alert("ğŸ‰ Ù…Ø¨Ø±ÙˆÙƒ! ÙƒÙ…Ù„ØªÙŠ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø±Ø§Ø­Ù„");
      levelIndex=0;
    }
  }
  loadQuestion();
}
</script>

</body>
</html>
