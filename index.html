<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ù„Ø¹Ø¨Ø© Ø§Ù„Ø£Ø³Ø¦Ù„Ø©</title>

<style>
body {
  margin: 0;
  font-family: Arial, sans-serif;
  background: linear-gradient(#001a14, #003b2f);
  color: #fff;
  text-align: center;
}

.hidden { display: none; }

.top-bar {
  display: flex;
  justify-content: space-around;
  padding: 10px;
  font-size: 18px;
}

.container {
  padding: 20px;
}

h1 {
  color: #6fffcf;
}

.btn {
  display: block;
  margin: 15px auto;
  padding: 15px;
  width: 90%;
  max-width: 400px;
  border: none;
  border-radius: 15px;
  font-size: 18px;
  cursor: pointer;
}

.btn-green {
  background: linear-gradient(to right, #2ecc71, #27ae60);
  color: #fff;
}

.btn-white {
  background: #f2f2f2;
  color: #000;
}

.answer {
  background: #0b3d2e;
  color: #fff;
  border: 2px solid #1abc9c;
}

.answer:hover {
  background: #1abc9c;
}

.correct {
  background: #2ecc71 !important;
}

.wrong {
  background: #e74c3c !important;
}
</style>
</head>

<body>

<div class="top-bar">
  <div id="stars">â­ 0</div>
  <div id="timer">â± 0</div>
  <div id="hearts">â¤ï¸ 3</div>
</div>

<div class="container">

  <!-- Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© -->
  <div id="menu">
    <h1>ğŸ® Ù„Ø¹Ø¨Ø© Ø§Ù„Ø£Ø³Ø¦Ù„Ø©</h1>
    <button class="btn btn-green" onclick="startStage(0)">Ø§Ù„Ù…Ø±Ø­Ù„Ø© 1</button>
    <button class="btn btn-green" onclick="startStage(1)">Ø§Ù„Ù…Ø±Ø­Ù„Ø© 2</button>
    <button class="btn btn-green" onclick="startStage(2)">Ø§Ù„Ù…Ø±Ø­Ù„Ø© 3</button>
    <button class="btn btn-white" onclick="resetGame()">Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªØµÙÙŠØ±</button>
  </div>

  <!-- Ø§Ù„Ø³Ø¤Ø§Ù„ -->
  <div id="quiz" class="hidden">
    <h2 id="question"></h2>
    <div id="answers"></div>
  </div>

</div>

<script>
/* ================= Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ================= */
const stages = [
  [
    {
      q: "ØªØ¹Ù†ÙŠ HTML ØŸ",
      a: ["Ù„ØºØ© Ø¨Ø±Ù…Ø¬Ø©", "Ù„ØºØ© ØªØ±Ù…ÙŠØ²", "Ù†Ø¸Ø§Ù…"],
      c: 1
    },
    {
      q: "ØªØ¹Ù†ÙŠ CSS ØŸ",
      a: ["ØªÙ†Ø³ÙŠÙ‚", "Ø¨Ø±Ù…Ø¬Ø©", "Ù‚Ø§Ø¹Ø¯Ø© Ø¨ÙŠØ§Ù†Ø§Øª"],
      c: 0
    }
  ],
  [
    {
      q: "JavaScript ØªÙØ³ØªØ¹Ù…Ù„ ÙÙŠØŸ",
      a: ["Ø§Ù„ÙˆØ§Ø¬Ù‡Ø©", "Ø§Ù„ØªÙØ§Ø¹Ù„", "Ø§Ù„ØªØµÙ…ÙŠÙ…"],
      c: 1
    }
  ],
  [
    {
      q: "GitHub Ù‡ÙˆØŸ",
      a: ["Ù…Ø­Ø±Ø±", "Ù…Ø³ØªÙˆØ¯Ø¹ ÙƒÙˆØ¯", "Ù„ØºØ©"],
      c: 1
    }
  ]
];

/* ================= Ø§Ù„Ø­Ø§Ù„Ø© ================= */
let stageIndex = 0;
let questionIndex = 0;
let stars = 0;
let hearts = 3;

/* ================= Ø§Ù„ØªØ­ÙƒÙ… ================= */
function startStage(index) {
  stageIndex = index;
  questionIndex = 0;
  document.getElementById("menu").classList.add("hidden");
  document.getElementById("quiz").classList.remove("hidden");
  history.pushState({page: "quiz"}, "");
  showQuestion();
}

function showQuestion() {
  const q = stages[stageIndex][questionIndex];
  document.getElementById("question").textContent = q.q;

  const answersDiv = document.getElementById("answers");
  answersDiv.innerHTML = "";

  q.a.forEach((text, i) => {
    const btn = document.createElement("button");
    btn.className = "btn answer";
    btn.textContent = text;
    btn.onclick = () => checkAnswer(i, btn);
    answersDiv.appendChild(btn);
  });
}

function checkAnswer(i, btn) {
  const correct = stages[stageIndex][questionIndex].c;
  const buttons = document.querySelectorAll(".answer");

  buttons.forEach(b => b.disabled = true);

  if (i === correct) {
    btn.classList.add("correct");
    stars += 10;
  } else {
    btn.classList.add("wrong");
    hearts--;
  }

  updateTop();

  setTimeout(nextQuestion, 800);
}

function nextQuestion() {
  questionIndex++;

  if (questionIndex >= stages[stageIndex].length) {
    backToMenu();
  } else {
    showQuestion();
  }
}

function backToMenu() {
  document.getElementById("quiz").classList.add("hidden");
  document.getElementById("menu").classList.remove("hidden");
  history.pushState({page: "menu"}, "");
}

function resetGame() {
  stars = 0;
  hearts = 3;
  updateTop();
}

function updateTop() {
  document.getElementById("stars").textContent = "â­ " + stars;
  document.getElementById("hearts").textContent = "â¤ï¸ " + hearts;
}

/* ================= Ø²Ø± Ø§Ù„Ø±Ø¬ÙˆØ¹ ================= */
window.onpopstate = function () {
  backToMenu();
};
</script>

</body>
</html>
