<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>لعبة السحب – الأساس</title>

<style>
body {
  margin: 0;
  min-height: 100vh;
  background: linear-gradient(#0f3d3d, #5fa3a3);
  display: flex;
  justify-content: center;
  align-items: center;
  font-family: Arial, sans-serif;
}

/* الشبكة */
.grid {
  display: grid;
  grid-template-columns: repeat(7, 44px);
  gap: 10px;
}

/* المربعات */
.cell {
  width: 44px;
  height: 44px;
  background: #1e2f2f;
  border-radius: 10px;
  touch-action: none;
}

.cell.active {
  background: #66cfff;
}
</style>
</head>

<body>

<div class="grid" id="grid"></div>

<script>
const rows = 7;
const cols = 7;
const grid = document.getElementById("grid");

let isDragging = false;
let startRow = null;

// إنشاء الشبكة
for (let r = 0; r < rows; r++) {
  for (let c = 0; c < cols; c++) {
    const cell = document.createElement("div");
    cell.className = "cell";
    cell.dataset.row = r;
    cell.dataset.col = c;
    grid.appendChild(cell);
  }
}

const cells = document.querySelectorAll(".cell");

// بداية السحب
cells.forEach(cell => {
  cell.addEventListener("pointerdown", e => {
    clearActive();
    isDragging = true;
    startRow = cell.dataset.row;
    activateCell(cell);
  });

  cell.addEventListener("pointerenter", e => {
    if (!isDragging) return;
    if (cell.dataset.row === startRow) {
      activateCell(cell);
    }
  });
});

// نهاية السحب
document.addEventListener("pointerup", () => {
  isDragging = false;
  startRow = null;
});

function activateCell(cell) {
  cell.classList.add("active");
}

function clearActive() {
  cells.forEach(c => c.classList.remove("active"));
}
</script>

</body>
</html>
