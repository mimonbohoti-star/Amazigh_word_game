<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<title>Ù„Ø¹Ø¨Ø© Ø§Ù„ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ø£Ù…Ø§Ø²ÙŠØºÙŠØ©</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body {
  margin: 0;
  font-family: Tahoma, Arial, sans-serif;
  background: #111;
  color: #fff;
  text-align: center;
}

.stage {
  padding: 20px;
}

h1 {
  margin-bottom: 10px;
}

.word-box {
  display: flex;
  justify-content: center;
  gap: 8px;
  margin: 25px 0;
  direction: ltr;
}

.letter {
  width: 45px;
  height: 55px;
  font-size: 28px;
  text-align: center;
  border-radius: 6px;
  border: 2px solid #555;
  background: #222;
  color: #fff;
}

.letter.correct {
  border-color: #2ecc71;
  background: #1e7e34;
}

.letter.wrong {
  border-color: #e74c3c;
  background: #922b21;
}

.word-box.shake {
  animation: shake 0.4s;
}

@keyframes shake {
  0% { transform: translateX(0); }
  25% { transform: translateX(-5px); }
  50% { transform: translateX(5px); }
  75% { transform: translateX(-5px); }
  100% { transform: translateX(0); }
}

.info {
  margin-top: 10px;
  font-size: 18px;
}

button {
  margin-top: 20px;
  padding: 10px 25px;
  font-size: 16px;
  border: none;
  border-radius: 6px;
  background: #3498db;
  color: #fff;
  cursor: pointer;
}
button:hover {
  background: #2980b9;
}
</style>
</head>

<body>

<div class="stage">
  <h1>ðŸ§© Ù„Ø¹Ø¨Ø© Ø§Ù„ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ø£Ù…Ø§Ø²ÙŠØºÙŠØ©</h1>
  <div id="levelInfo">Ø§Ù„Ù…Ø±Ø­Ù„Ø© 1</div>

  <div class="word-box" id="wordBox"></div>

  <div class="info" id="message">Ø£Ø¯Ø®Ù„ Ø§Ù„ÙƒÙ„Ù…Ø©</div>

  <button onclick="nextLevel()">Ø§Ù„Ù…Ø±Ø­Ù„Ø© Ø§Ù„ØªØ§Ù„ÙŠØ©</button>
</div>

<script>
const levels = [
  { answer: "AZUL" },
  { answer: "AMUR" },
  { answer: "TAFSUT" }
];

let currentLevel = 0;
let inputs = [];

function loadLevel() {
  const wordBox = document.getElementById("wordBox");
  const msg = document.getElementById("message");
  wordBox.innerHTML = "";
  msg.textContent = "Ø£Ø¯Ø®Ù„ Ø§Ù„ÙƒÙ„Ù…Ø©";
  document.getElementById("levelInfo").textContent = "Ø§Ù„Ù…Ø±Ø­Ù„Ø© " + (currentLevel + 1);

  const answer = levels[currentLevel].answer;
  inputs = [];

  for (let i = 0; i < answer.length; i++) {
    const input = document.createElement("input");
    input.maxLength = 1;
    input.className = "letter";
    input.oninput = () => handleInput(i);
    inputs.push(input);
    wordBox.appendChild(input);
  }

  inputs[0].focus();
}

function handleInput(index) {
  const val = inputs[index].value.toUpperCase();
  inputs[index].value = val;

  if (val && index < inputs.length - 1) {
    inputs[index + 1].focus();
  }

  checkWord();
}

function checkWord() {
  const answer = levels[currentLevel].answer;
  let userWord = inputs.map(i => i.value).join("");

  if (userWord.length < answer.length) return;

  if (userWord === answer) {
    inputs.forEach(i => i.classList.add("correct"));
    document.getElementById("message").textContent = "âœ” Ø¬ÙˆØ§Ø¨ ØµØ­ÙŠØ­";
    localStorage.setItem("amazighLevel", currentLevel + 1);
  } else {
    inputs.forEach(i => i.classList.add("wrong"));
    const box = document.getElementById("wordBox");
    box.classList.add("shake");
    setTimeout(() => box.classList.remove("shake"), 400);
    document.getElementById("message").textContent = "âœ– Ø­Ø§ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰";
  }
}

function nextLevel() {
  if (currentLevel < levels.length - 1) {
    currentLevel++;
    loadLevel();
  } else {
    document.getElementById("message").textContent = "ðŸŽ‰ Ø£ÙƒÙ…Ù„Øª Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø±Ø§Ø­Ù„";
  }
}

const saved = localStorage.getItem("amazighLevel");
if (saved) currentLevel = parseInt(saved);

loadLevel();
</script>

</body>
</html>
