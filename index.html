<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<title>Ù„Ø¹Ø¨Ø© Ø§Ù„ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ø£Ù…Ø§Ø²ÙŠØºÙŠØ©</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body {
  margin: 0;
  font-family: sans-serif;
  background: linear-gradient(#0f3d3d, #1f6f6f);
  color: #fff;
  text-align: center;
}

.hidden { display: none; }

button {
  border: none;
  padding: 12px 20px;
  border-radius: 20px;
  font-size: 16px;
  cursor: pointer;
}

.start-btn { background:#4dd0e1; color:#000; }
.next-btn { background:#81c784; }
.delete-btn { background:#e57373; }

.letters, .slots {
  display: flex;
  justify-content: center;
  flex-wrap: wrap;
  gap: 10px;
  margin: 15px;
}

.letter, .slot {
  width: 55px;
  height: 55px;
  background:#263238;
  border-radius: 10px;
  font-size: 28px;
  display:flex;
  align-items:center;
  justify-content:center;
}

.slot.filled {
  border-bottom: 4px solid #6cff6c;
}

.top { margin-top: 80px; }
.level { opacity: 0.8; margin-bottom: 10px; }
</style>
</head>

<body>

<!-- Ø§Ù„Ø¨Ø¯Ø§ÙŠØ© -->
<div id="startScreen" class="top">
  <h1>âµ£ Ù„Ø¹Ø¨Ø© Ø§Ù„ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ø£Ù…Ø§Ø²ÙŠØºÙŠØ© âµ£</h1>
  <button class="start-btn" onclick="startGame()">Ø§Ø¨Ø¯Ø£</button>
</div>

<!-- Ø§Ù„Ù„Ø¹Ø¨Ø© -->
<div id="gameScreen" class="hidden">
  <div class="level" id="levelText"></div>
  <h2 id="question"></h2>

  <div class="slots" id="slots"></div>
  <div class="letters" id="letters"></div>

  <button class="delete-btn" onclick="removeLetter()">Ù…Ø³Ø­ Ø­Ø±Ù</button>
  <br><br>
  <button class="next-btn" onclick="nextQuestion()">Ø§Ù„ØªØ§Ù„ÙŠ</button>
</div>

<script>
/* =============================
   Ø§Ù„Ù…Ø±Ø§Ø­Ù„
============================= */
const levels = [
  {
    name: "Ø§Ù„Ù…Ø±Ø­Ù„Ø© 1",
    questions: [
      { q: "Ø­ÙŠÙˆØ§Ù† Ø£Ù„ÙŠÙ", a: "â´°âµ¢â´·âµ‰" },
      { q: "Ø§Ù„Ø´Ù…Ø³", a: "âµœâ´°â´¼âµ“âµ¢âµœ" }
    ]
  },
  {
    name: "Ø§Ù„Ù…Ø±Ø­Ù„Ø© 2",
    questions: [
      { q: "Ø§Ù„Ù…Ø§Ø¡", a: "â´°âµâ´°âµ" },
      { q: "Ø§Ù„Ù‚Ù…Ø±", a: "â´°âµ¢âµ“âµ”" }
    ]
  },
  {
    name: "Ø§Ù„Ù…Ø±Ø­Ù„Ø© 3",
    questions: [
      { q: "Ø§Ù„Ø¨ÙŠØª", a: "â´°âµ…âµ…â´°âµ" },
      { q: "Ø§Ù„Ù†Ø§Ø±", a: "âµœâ´°â´¼âµ“â´½âµœ" }
    ]
  },
  {
    name: "Ø§Ù„Ù…Ø±Ø­Ù„Ø© 4",
    questions: [
      { q: "Ø§Ù„Ù‡ÙˆØ§Ø¡", a: "â´°âµ¡â´°âµ" },
      { q: "Ø§Ù„ÙŠØ¯", a: "â´°â´¼âµ“âµ™" }
    ]
  },
  {
    name: "Ø§Ù„Ù…Ø±Ø­Ù„Ø© 5",
    questions: [
      { q: "Ø§Ù„Ø±Ø£Ø³", a: "â´°âµ…âµ…â´°â´¼" },
      { q: "Ø§Ù„Ù‚Ù„Ø¨", a: "âµ“âµ" }
    ]
  }
];

let levelIndex = 0;
let questionIndex = 0;
let currentAnswer = [];
let filled = [];

/* =============================
   Ø§Ù„ØªØ´ØºÙŠÙ„
============================= */
function startGame() {
  document.getElementById("startScreen").classList.add("hidden");
  document.getElementById("gameScreen").classList.remove("hidden");
  loadQuestion();
}

function loadQuestion() {
  const level = levels[levelIndex];
  const qObj = level.questions[questionIndex];

  document.getElementById("levelText").textContent = level.name;
  document.getElementById("question").textContent = qObj.q;

  currentAnswer = qObj.a.split("");
  filled = [];

  renderSlots();
  renderLetters();
}

function renderSlots() {
  const slots = document.getElementById("slots");
  slots.innerHTML = "";
  currentAnswer.forEach((_, i) => {
    const d = document.createElement("div");
    d.className = "slot";
    d.textContent = filled[i] || "";
    if (filled[i]) d.classList.add("filled");
    slots.appendChild(d);
  });
}

function renderLetters() {
  const lettersDiv = document.getElementById("letters");
  lettersDiv.innerHTML = "";

  let letters = [...currentAnswer];
  const extra = ["â´°","âµ“","âµ‰","â´³","âµ£","â´·","â´¼","â´½"];

  while (letters.length < currentAnswer.length + 4) {
    letters.push(extra[Math.floor(Math.random()*extra.length)]);
  }

  letters.sort(() => Math.random() - 0.5);

  letters.forEach(l => {
    const b = document.createElement("div");
    b.className = "letter";
    b.textContent = l;
    b.onclick = () => addLetter(l);
    lettersDiv.appendChild(b);
  });
}

function addLetter(l) {
  if (filled.length < currentAnswer.length) {
    filled.push(l);
    renderSlots();
    checkAnswer();
  }
}

function removeLetter() {
  filled.pop();
  renderSlots();
}

function checkAnswer() {
  if (filled.join("") === currentAnswer.join("")) {
    setTimeout(nextQuestion, 500);
  }
}

function nextQuestion() {
  questionIndex++;
  if (questionIndex >= levels[levelIndex].questions.length) {
    levelIndex++;
    questionIndex = 0;
    if (levelIndex >= levels.length) {
      alert("ğŸ‰ ÙƒÙ…Ù„ØªÙŠ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø±Ø§Ø­Ù„!");
      levelIndex = 0;
    }
  }
  loadQuestion();
}
</script>

</body>
</html>
